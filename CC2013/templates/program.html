{% extends "base.html" %}
{% block page_title %}Program Summary{% endblock page_title %}
{% block page_js %}<script src="{{ url_for('static', filename='program.js') }}"></script>{% endblock %}
{% block nav %}
    <ul>
      <li><a href="{{ url_for('index') }}">Back to homepage</a></li>
      <li><a href="{{ url_for('course_new', program_id=program.id ) }}">Add new course</a></li>
{% if g.user.is_authenticated() %}
      <li><a href="{{ url_for('user_profile', nickname=g.user.nickname) }}">User Profile</a></li>
      <li><a href="{{ url_for('logout') }}">Logout</a></li>
{% endif %}
    </ul>
{% endblock nav %}
{% block content %}
    <h1>Program Summary</h1>
{% if message is defined %}
    <p class="message">{{ message }}</p>
{% endif %}
    <dl>
      <dt>Program Title</dt>
      <dd>{{ program.title }}</dd>
      <dt>Description</dt>
      <dd>{{ program.description or "No description provided." }}</dd>
      <dt>Number of courses</dt>
      <dd>{{ courses|length }}
      <dt>Tier 1 Hours</dt>
      <dd>{{ tier1 }}/{{ tier1_total }} ({{ "%0.0f"|format(tier1 / tier1_total * 100) }}%)</dd>
      <dt>Tier 2 Hours</dt>
      <dd>{{ tier2 }}/{{ tier2_total }} ({{ "%0.0f"|format(tier2 / tier2_total * 100) }}%)</dd>
    </dl>
    <h2>Courses</h2>
    <ul>
{% for course in program.courses %}
      <li><a href="{{ url_for('course', program_id=program.id, course_id=course.id) }}">{% if course.abbr %}{{ course.abbr }}: {% endif %}{{ course.title }}</a></li>
{% else %}
      <p>No courses have been added to this program.</p>
{% endfor %}
    </ul>
    <div><a href="{{ url_for('program_edit', program_id=program.id) }}">Edit Program</a></div>
    <div>
      <form id="program_delete" method="post" action="{{ url_for('program_delete', program_id=program.id) }}">
        <input type="submit" name="submit" value="Delete Program" />
      </form>
    </div>
{% endblock content %}
